import React from 'react';
import "./ProductDetails.scss"
import {useAppDispatch, useAppSelector} from "../../../hooks";
import {SlBasket} from "react-icons/sl";
import {MdOutlineFavoriteBorder} from "react-icons/md";
import {BsArrowLeft} from "react-icons/bs";
import {detailsProductREC, productModalREC} from "../../../store/actions/ProductActions";
import {getFavorite} from "../../../store/actions/ProductFavoriteActions";
import {addToBasketREC} from "../../../store/actions/ProductBasket";

const ProductDetails = () => {
    const {productsDetails,productModal} = useAppSelector(s => s.ProductSlice)
    const dispatch = useAppDispatch()
    const {favorite} = useAppSelector(s => s.ProductFavorite)
    const found = favorite.some(some => some.id === productsDetails.id)


    return (
        <div style={{display: productModal ? "flex" : "none"}}>
            <div className="container">
                <div className="details">
                    <BsArrowLeft className="details--arr" onClick={() => dispatch(productModalREC(productModal))}/>
                    <MdOutlineFavoriteBorder style={{color: found ? "red" : ""}} onClick={() => dispatch(getFavorite(productsDetails))} className="details--fav"/>
                    <img src={productsDetails.image} alt="img"/>
                    <div className="details--text">
                        <h4>{productsDetails.price}</h4>
                        <h1>{productsDetails.name_en}</h1>
                        <h6>{productsDetails.kg}</h6>
                        <svg width="232" height="23" viewBox="0 0 232 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.688152 13.9048V12.6183L5.71465 5.40764H7.77911V12.4238H9.17037V13.9048H7.77911V16.1787H6.10361V13.9048H0.688152ZM6.17841 7.14298L2.64789 12.4238H6.17841V7.14298ZM11.496 16.2834C11.1869 16.2834 10.9276 16.1787 10.7181 15.9693C10.5087 15.7598 10.404 15.5005 10.404 15.1914C10.404 14.8822 10.5087 14.6229 10.7181 14.4135C10.9276 14.204 11.1869 14.0993 11.496 14.0993C11.7952 14.0993 12.0496 14.204 12.259 14.4135C12.4684 14.6229 12.5731 14.8822 12.5731 15.1914C12.5731 15.5005 12.4684 15.7598 12.259 15.9693C12.0496 16.1787 11.7952 16.2834 11.496 16.2834ZM21.2231 6.73906H16.2115V9.71607C16.421 9.43682 16.7301 9.20245 17.139 9.01296C17.5579 8.82346 18.0017 8.72872 18.4705 8.72872C19.3082 8.72872 19.9864 8.90824 20.505 9.26727C21.0336 9.62631 21.4076 10.0801 21.627 10.6286C21.8564 11.1771 21.9711 11.7556 21.9711 12.364C21.9711 13.102 21.8265 13.7602 21.5372 14.3387C21.258 14.9071 20.8341 15.3559 20.2656 15.685C19.7071 16.0142 19.019 16.1787 18.2012 16.1787C17.1141 16.1787 16.2415 15.9094 15.5832 15.3709C14.925 14.8323 14.5311 14.1192 14.4014 13.2316H16.0619C16.1716 13.7004 16.416 14.0744 16.795 14.3536C17.174 14.6229 17.6477 14.7575 18.2162 14.7575C18.9243 14.7575 19.4528 14.5431 19.8019 14.1143C20.1609 13.6854 20.3404 13.1169 20.3404 12.4088C20.3404 11.6908 20.1609 11.1422 19.8019 10.7633C19.4429 10.3743 18.9143 10.1798 18.2162 10.1798C17.7275 10.1798 17.3136 10.3045 16.9745 10.5538C16.6454 10.7932 16.406 11.1223 16.2564 11.5412H14.6408V5.24308H21.2231V6.73906Z" fill="black"/>
                            <path d="M143.27 18.9612C142.292 18.0238 141.539 16.832 141.011 15.3858C140.492 13.9397 140.233 12.3889 140.233 10.7333C140.233 9.03789 140.512 7.43719 141.071 5.93123C141.639 4.42528 142.472 3.18361 143.569 2.20624H145.334V2.37079C144.187 3.42796 143.325 4.69455 142.746 6.17059C142.168 7.64663 141.879 9.16754 141.879 10.7333C141.879 12.2393 142.148 13.6954 142.686 15.1016C143.225 16.5078 144.008 17.7395 145.035 18.7967V18.9612H143.27ZM148.479 10.479C147.441 9.96041 146.923 9.14261 146.923 8.02561C146.923 7.48705 147.057 6.99338 147.327 6.54458C147.596 6.09579 148 5.74174 148.538 5.48244C149.077 5.21316 149.735 5.07852 150.513 5.07852C151.281 5.07852 151.934 5.21316 152.473 5.48244C153.021 5.74174 153.43 6.09579 153.7 6.54458C153.969 6.99338 154.104 7.48705 154.104 8.02561C154.104 8.58411 153.959 9.07778 153.67 9.50663C153.39 9.92551 153.016 10.2496 152.548 10.479C153.116 10.6885 153.565 11.0325 153.894 11.5112C154.223 11.98 154.388 12.5335 154.388 13.1718C154.388 13.82 154.223 14.3935 153.894 14.8922C153.565 15.3908 153.106 15.7748 152.518 16.0441C151.929 16.3133 151.261 16.448 150.513 16.448C149.765 16.448 149.097 16.3133 148.509 16.0441C147.93 15.7748 147.476 15.3908 147.147 14.8922C146.818 14.3935 146.654 13.82 146.654 13.1718C146.654 12.5235 146.818 11.965 147.147 11.4963C147.476 11.0275 147.92 10.6885 148.479 10.479ZM152.473 8.23505C152.473 7.67655 152.298 7.2477 151.949 6.9485C151.6 6.6493 151.122 6.49971 150.513 6.49971C149.915 6.49971 149.441 6.6493 149.092 6.9485C148.743 7.2477 148.568 7.68153 148.568 8.25C148.568 8.74867 148.748 9.15757 149.107 9.47671C149.476 9.78588 149.945 9.94046 150.513 9.94046C151.082 9.94046 151.55 9.78089 151.919 9.46175C152.288 9.14261 152.473 8.73371 152.473 8.23505ZM150.513 11.227C149.855 11.227 149.316 11.3916 148.897 11.7207C148.489 12.0398 148.284 12.5036 148.284 13.1119C148.284 13.6804 148.484 14.1442 148.883 14.5032C149.281 14.8523 149.825 15.0268 150.513 15.0268C151.191 15.0268 151.725 14.8473 152.114 14.4883C152.513 14.1292 152.712 13.6704 152.712 13.1119C152.712 12.5136 152.508 12.0498 152.099 11.7207C151.7 11.3916 151.171 11.227 150.513 11.227ZM158.303 13.2167C158.402 13.7153 158.617 14.0943 158.946 14.3536C159.275 14.6129 159.719 14.7426 160.277 14.7426C160.985 14.7426 161.504 14.4633 161.833 13.9048C162.162 13.3463 162.327 12.3939 162.327 11.0475C162.087 11.3866 161.748 11.6509 161.31 11.8404C160.881 12.0199 160.412 12.1096 159.903 12.1096C159.255 12.1096 158.667 11.98 158.138 11.7207C157.61 11.4514 157.191 11.0575 156.881 10.5389C156.582 10.0103 156.433 9.37199 156.433 8.624C156.433 7.52695 156.752 6.65429 157.39 6.00603C158.038 5.3478 158.926 5.01868 160.053 5.01868C161.409 5.01868 162.372 5.47246 162.94 6.38003C163.519 7.27762 163.808 8.65891 163.808 10.5239C163.808 11.8104 163.698 12.8626 163.479 13.6804C163.269 14.4982 162.9 15.1166 162.372 15.5354C161.843 15.9543 161.11 16.1638 160.173 16.1638C159.106 16.1638 158.283 15.8845 157.704 15.326C157.126 14.7675 156.802 14.0644 156.732 13.2167H158.303ZM160.203 10.6735C160.801 10.6735 161.27 10.489 161.609 10.12C161.958 9.741 162.132 9.24234 162.132 8.624C162.132 7.93585 161.948 7.40228 161.579 7.0233C161.22 6.63434 160.726 6.43987 160.098 6.43987C159.47 6.43987 158.971 6.63933 158.602 7.03826C158.243 7.42721 158.063 7.94084 158.063 8.57912C158.063 9.18749 158.238 9.69113 158.587 10.0901C158.946 10.479 159.484 10.6735 160.203 10.6735ZM171.49 9.13263C171.74 8.71376 172.069 8.38963 172.478 8.16025C172.896 7.92089 173.39 7.80121 173.959 7.80121V9.56647H173.525C172.857 9.56647 172.348 9.73601 171.999 10.0751C171.66 10.4142 171.49 11.0026 171.49 11.8404V16.1787H169.785V7.93585H171.49V9.13263ZM183.081 11.8553C183.081 12.1645 183.061 12.4437 183.021 12.6931H176.723C176.773 13.3513 177.017 13.8799 177.456 14.2788C177.895 14.6777 178.433 14.8772 179.072 14.8772C179.989 14.8772 180.637 14.4932 181.016 13.7253H182.857C182.607 14.4833 182.153 15.1066 181.495 15.5953C180.847 16.074 180.039 16.3133 179.072 16.3133C178.284 16.3133 177.576 16.1388 176.947 15.7898C176.329 15.4307 175.84 14.9321 175.481 14.2938C175.132 13.6455 174.958 12.8975 174.958 12.0498C174.958 11.2021 175.127 10.4591 175.466 9.82079C175.815 9.17253 176.299 8.67387 176.917 8.3248C177.546 7.97574 178.264 7.80121 179.072 7.80121C179.85 7.80121 180.543 7.97076 181.151 8.30984C181.759 8.64893 182.233 9.12765 182.572 9.74599C182.911 10.3544 183.081 11.0575 183.081 11.8553ZM181.301 11.3168C181.291 10.6885 181.066 10.1848 180.628 9.80583C180.189 9.42684 179.645 9.23735 178.997 9.23735C178.408 9.23735 177.905 9.42684 177.486 9.80583C177.067 10.1748 176.818 10.6785 176.738 11.3168H181.301ZM187.946 14.6528L190.279 7.93585H192.09L188.948 16.1787H186.913L183.787 7.93585H185.612L187.946 14.6528ZM194.246 6.84378C193.937 6.84378 193.678 6.73906 193.468 6.52963C193.259 6.32019 193.154 6.06088 193.154 5.75171C193.154 5.44254 193.259 5.18324 193.468 4.9738C193.678 4.76437 193.937 4.65965 194.246 4.65965C194.546 4.65965 194.8 4.76437 195.009 4.9738C195.219 5.18324 195.323 5.44254 195.323 5.75171C195.323 6.06088 195.219 6.32019 195.009 6.52963C194.8 6.73906 194.546 6.84378 194.246 6.84378ZM195.084 7.93585V16.1787H193.379V7.93585H195.084ZM204.878 11.8553C204.878 12.1645 204.858 12.4437 204.818 12.6931H198.52C198.57 13.3513 198.814 13.8799 199.253 14.2788C199.692 14.6777 200.23 14.8772 200.869 14.8772C201.786 14.8772 202.434 14.4932 202.813 13.7253H204.653C204.404 14.4833 203.95 15.1066 203.292 15.5953C202.644 16.074 201.836 16.3133 200.869 16.3133C200.081 16.3133 199.373 16.1388 198.744 15.7898C198.126 15.4307 197.637 14.9321 197.278 14.2938C196.929 13.6455 196.755 12.8975 196.755 12.0498C196.755 11.2021 196.924 10.4591 197.263 9.82079C197.612 9.17253 198.096 8.67387 198.714 8.3248C199.343 7.97574 200.061 7.80121 200.869 7.80121C201.647 7.80121 202.34 7.97076 202.948 8.30984C203.556 8.64893 204.03 9.12765 204.369 9.74599C204.708 10.3544 204.878 11.0575 204.878 11.8553ZM203.098 11.3168C203.088 10.6885 202.863 10.1848 202.424 9.80583C201.986 9.42684 201.442 9.23735 200.794 9.23735C200.205 9.23735 199.702 9.42684 199.283 9.80583C198.864 10.1748 198.615 10.6785 198.535 11.3168H203.098ZM217.626 7.93585L215.068 16.1787H213.273L211.613 10.0901L209.952 16.1787H208.157L205.584 7.93585H207.319L209.039 14.5631L210.79 7.93585H212.57L214.245 14.5331L215.951 7.93585H217.626ZM221.893 16.3133C221.245 16.3133 220.661 16.1987 220.143 15.9693C219.634 15.7299 219.23 15.4108 218.931 15.0118C218.632 14.6029 218.472 14.1492 218.452 13.6505H220.217C220.247 13.9996 220.412 14.2938 220.711 14.5331C221.02 14.7625 221.404 14.8772 221.863 14.8772C222.342 14.8772 222.711 14.7874 222.97 14.6079C223.239 14.4184 223.374 14.1791 223.374 13.8899C223.374 13.5807 223.224 13.3513 222.925 13.2017C222.636 13.0521 222.172 12.8875 221.534 12.708C220.916 12.5385 220.412 12.3739 220.023 12.2144C219.634 12.0548 219.295 11.8104 219.006 11.4813C218.726 11.1522 218.587 10.7184 218.587 10.1798C218.587 9.741 218.716 9.34207 218.976 8.98304C219.235 8.61403 219.604 8.3248 220.083 8.11537C220.571 7.90593 221.13 7.80121 221.758 7.80121C222.696 7.80121 223.449 8.04057 224.017 8.51928C224.596 8.98802 224.905 9.6313 224.945 10.4491H223.239C223.209 10.0801 223.06 9.78588 222.79 9.56647C222.521 9.34706 222.157 9.23735 221.698 9.23735C221.25 9.23735 220.906 9.32213 220.666 9.49167C220.427 9.66122 220.307 9.88561 220.307 10.1649C220.307 10.3843 220.387 10.5688 220.547 10.7184C220.706 10.868 220.901 10.9877 221.13 11.0774C221.359 11.1572 221.698 11.2619 222.147 11.3916C222.746 11.5511 223.234 11.7157 223.613 11.8852C224.002 12.0448 224.336 12.2842 224.616 12.6033C224.895 12.9225 225.039 13.3463 225.049 13.8749C225.049 14.3436 224.92 14.7625 224.66 15.1315C224.401 15.5005 224.032 15.7898 223.553 15.9992C223.085 16.2086 222.531 16.3133 221.893 16.3133ZM226.473 18.9612V18.7967C227.501 17.7395 228.283 16.5078 228.822 15.1016C229.361 13.6954 229.63 12.2393 229.63 10.7333C229.63 9.16754 229.341 7.64663 228.762 6.17059C228.184 4.69455 227.321 3.42796 226.174 2.37079V2.20624H227.939C229.036 3.18361 229.864 4.42528 230.423 5.93123C230.991 7.43719 231.275 9.03789 231.275 10.7333C231.275 12.3889 231.011 13.9397 230.483 15.3858C229.964 16.832 229.216 18.0238 228.239 18.9612H226.473Z" fill="#868889"/>
                            <path d="M112.15 7.16791C112.028 6.78925 111.692 6.52032 111.294 6.48451L105.897 5.99443L103.763 0.999069C103.606 0.632974 103.247 0.395996 102.849 0.395996C102.451 0.395996 102.092 0.632974 101.935 0.999925L99.8008 5.99443L94.4027 6.48451C94.0061 6.52117 93.6711 6.78925 93.548 7.16791C93.4248 7.54656 93.5385 7.96187 93.8386 8.22368L97.9183 11.8016L96.7153 17.1008C96.6272 17.4905 96.7785 17.8932 97.1018 18.1269C97.2755 18.2525 97.4788 18.3164 97.6839 18.3164C97.8606 18.3164 98.036 18.2688 98.1933 18.1746L102.849 15.3921L107.503 18.1746C107.844 18.3795 108.273 18.3608 108.595 18.1269C108.919 17.8925 109.07 17.4896 108.982 17.1008L107.779 11.8016L111.859 8.22439C112.159 7.96187 112.273 7.54727 112.15 7.16791Z" fill="#FFC107"/>
                            <path d="M89.7101 7.16791C89.5877 6.78925 89.2519 6.52032 88.8545 6.48451L83.4572 5.99443L81.323 0.999069C81.1657 0.632974 80.8073 0.395996 80.4091 0.395996C80.0109 0.395996 79.6525 0.632974 79.4951 0.999925L77.3609 5.99443L71.9628 6.48451C71.5661 6.52117 71.2311 6.78925 71.108 7.16791C70.9849 7.54656 71.0986 7.96187 71.3986 8.22368L75.4783 11.8016L74.2753 17.1008C74.1873 17.4905 74.3385 17.8932 74.6618 18.1269C74.8356 18.2525 75.0389 18.3164 75.2439 18.3164C75.4207 18.3164 75.596 18.2688 75.7534 18.1746L80.4091 15.3921L85.063 18.1746C85.4036 18.3795 85.8329 18.3608 86.1554 18.1269C86.4789 17.8925 86.63 17.4896 86.5419 17.1008L85.3389 11.8016L89.4186 8.22439C89.7187 7.96187 89.8332 7.54727 89.7101 7.16791Z" fill="#FFC107"/>
                            <path d="M67.2707 7.16791C67.1482 6.78925 66.8124 6.52032 66.4151 6.48451L61.0178 5.99443L58.8836 0.999069C58.7262 0.632974 58.3678 0.395996 57.9696 0.395996C57.5714 0.395996 57.213 0.632974 57.0557 0.999925L54.9214 5.99443L49.5233 6.48451C49.1267 6.52117 48.7917 6.78925 48.6686 7.16791C48.5454 7.54656 48.6591 7.96187 48.9592 8.22368L53.0389 11.8016L51.8359 17.1008C51.7478 17.4905 51.8991 17.8932 52.2224 18.1269C52.3961 18.2525 52.5995 18.3164 52.8045 18.3164C52.9812 18.3164 53.1566 18.2688 53.314 18.1746L57.9696 15.3921L62.6236 18.1746C62.9641 18.3795 63.3934 18.3608 63.716 18.1269C64.0394 17.8925 64.1905 17.4896 64.1025 17.1008L62.8995 11.8016L66.9792 8.22439C67.2792 7.96187 67.3938 7.54727 67.2707 7.16791Z" fill="#FFC107"/>
                            <path d="M44.8307 7.16791C44.7083 6.78926 44.3725 6.52032 43.9751 6.48451L38.5778 5.99443L36.4436 0.999069C36.2863 0.632974 35.9279 0.395996 35.5297 0.395996C35.1315 0.395996 34.7731 0.632974 34.6157 0.999925L32.4815 5.99443L27.0834 6.48451C26.6867 6.52117 26.3517 6.78926 26.2286 7.16791C26.1055 7.54656 26.2192 7.96187 26.5192 8.22368L30.5989 11.8016L29.3959 17.1008C29.3079 17.4905 29.4591 17.8932 29.7824 18.1269C29.9562 18.2525 30.1595 18.3164 30.3645 18.3164C30.5413 18.3164 30.7166 18.2688 30.874 18.1746L35.5297 15.3921L40.1836 18.1746C40.5242 18.3795 40.9535 18.3608 41.2761 18.1269C41.5995 17.8925 41.7506 17.4896 41.6626 17.1008L40.4595 11.8016L44.5392 8.22439C44.8393 7.96187 44.9538 7.54727 44.8307 7.16791Z" fill="#FFC107"/>
                            <path d="M134.616 7.06563C134.548 6.85634 134.342 6.72508 134 6.67188L128.271 5.83893L125.704 0.646528C125.544 0.334597 125.358 0.178711 125.145 0.178711C124.924 0.178711 124.738 0.334597 124.586 0.646528L122.018 5.83893L116.289 6.67188C115.947 6.72512 115.741 6.85634 115.673 7.06563C115.605 7.27491 115.692 7.50123 115.935 7.74469L120.089 11.7845L119.108 17.4902C119.07 17.7415 119.093 17.9368 119.176 18.0779C119.26 18.2187 119.389 18.289 119.564 18.289C119.694 18.289 119.846 18.2435 120.021 18.1518L125.145 15.4585L130.269 18.1518C130.444 18.2432 130.596 18.289 130.725 18.289C130.9 18.289 131.03 18.2187 131.113 18.0779C131.197 17.9368 131.22 17.7415 131.182 17.4902L130.2 11.7845L134.343 7.74469C134.594 7.50123 134.685 7.27491 134.616 7.06563ZM129.184 10.7345L128.625 11.2709L128.762 12.0241L129.447 16.0754L125.818 14.1582L125.145 13.8043V2.81478L126.959 6.48941L127.301 7.17403L128.055 7.28818L132.117 7.88151L129.184 10.7345Z" fill="#FFC107"/>
                        </svg>
                        <p>{productsDetails.description}</p>
                        <div className="details--text__quantity">
                            <span>quantity</span>
                            <div className="details--text__quantity--btn">
                                <div>-</div>
                                <h2>{productsDetails.quantity}</h2>
                                <div>+</div>
                            </div>
                        </div>
                        <button onClick={() => dispatch(addToBasketREC(productsDetails))}><SlBasket/>Add to cart</button>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default ProductDetails;